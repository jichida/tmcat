<link rel="stylesheet" type="text/css" href="/public/css/starwar.css" />
<style type="text/css" media="screen">
    body{
        padding: 0;
        margin: 0;
    }
    body{
        height: 100%;
        width: 100%;
        background: url('/public/img/6.jpg') no-repeat center;
        background-size: auto 100%;
    }
    .upup{
        position: fixed;
        z-index: 1000;
        bottom: 0;
        width: 30px;
        width: 100%;
        text-align: center;
        display: none;
    }
    .upup img{
        width: 30px;
    }
    .upup span{
        display: block;
        color: #FFF;
        margin-bottom: 15px;
    }
    #main1{
        /*border: 1px solid #C00;*/
        /*display: none;*/
    }
    #main2{
        position: relative;
        z-index: 1000;
        display: none;
    }
    #main2 .lo,
    #main2 .img8{
        text-align: center;
        padding-top: 30px;

    }
    #main2 #logo{
        width: 80%;
        position: relative;
        margin: auto;
        z-index: 101;
        display: none;
    }
    #main2 #img8{
        width: 100%;
        position: fixed;
        right: 0;
        bottom: 100px;
        z-index: 101;
        display: none;
    }

    #wamp2{
        position: fixed;
        width: 1000%;
        height: 1000%;
        left: -500px;
        top: -500px;
        background:  rgba(0,0,0,.6);
        z-index: 100;
    }
    #danmu{
        position: fixed;
        top: 10px;
        z-index: 1000;
        left: 0;
        color: #111;
        height: 100px;
        width: 100%;
    }
    #danmu p{
        background: rgba(255,255,255,.7);
        border-radius: 50px;
        line-height: 30px;
        padding:0 20px;
        display: inline-block;
        position: absolute;
    }
    #danmu #d1{
        /*display: none;*/
        width: 195px;
        right: 10px;
        top: 0;
        right: -248px;
    }
    #danmu #d2{
        /*display: none;*/
        width: 118px;
        right: 10px;
        top: 40px;
        right: -158px;
    }
    #danmu #d3{
        /*display: none;*/
        width: 100px;
        right: 10px;
        top: 80px;
        right: -148px;
    }

</style>
<div class="maincontent" id="inp">
    <input id="startInp" type="hidden" />
    <input id="endInp" type="hidden" />
    <div id="bgimg"></div>
    <div id="main1">

        <div id="titles">
            <div id="titlecontent">
                <!--subtitle-->
                <p class="center">在神秘的异次元</p>
                <!--article-->
                <p class="center">编程世界中 &nbsp;</p>
                <p class="center">有一个神奇的存在</p>
                <p class="center" >他神出鬼没</p>
                <p class="center">拥有秘术</p>
                <p class="center">传说中他最神秘的力量</p>
                <p class="center">就是能够预知未来&hellip;</p>
            </div>
        </div>
    </div>
    <div id="main2">
        <div id="wamp2"></div>

        <div class="lo"><img src="/public/img/1.png" id="logo" /></div>
        <div class="img8"><img src="/public/img/8.png" id="img8" /></div>
    </div>
    <div id="danmu">
        <p id="d1">他会在每年特定的时间出现</p>
        <p id="d2">帮人们预测未来</p>
        <p id="d3">他就是猫老祖</p>
    </div>
    <span class="upup"><img src="/public/img/7.gif" /><span>向上滑动</span></span>
</div>
<script src="/public/assets/js/jquery.min.js"></script>
<script src="/public/assets/js/bootstrap.min.js"></script>
<script src="/public/dist/cropper.js"></script>
<script src="/public/main.js"></script>
<script>
    $(function(){
        console.log($);
        var tg = 1;
        function load (){
            setTimeout(function(){$(".upup").fadeIn()}, 1500);
            document.addEventListener('touchstart',touch, false);
            document.addEventListener('touchend',touch, false);
            document.addEventListener('touchmove',function(e){ 
                var event = e || window.event; 
                event.preventDefault();
                return false
            }, false);
            function touch (event){ 
                var event = event || window.event;
                var startInp = $("#startInp");
                var endInp = $("#endInp");

                switch(event.type){
                    case "touchstart":
                        console.log(event);
                        startInp.val(event.touches[0].clientY);
                        break;
                    case "touchend":
                        endInp.val(event.changedTouches[0].clientY);
                        setTimeout(function(){
                            var movelength = startInp.val()-endInp.val();
                            if(movelength>40){
                                console.log("这里是上滑");
                                tg2();
                            }else if(movelength<40){
                                console.log("这里是下滑");
                            }
                        }, 100);
                        break;
                }
            }
        }
        function tg1(){
            // setTimeout(function(){tg = 1}, 1500);
        }
        function tg2(){
            var upup = $(".upup");
            upup.fadeOut();
            if(tg===1){
                tg = 2;
                var main1 = $("#main1");
                var main2 = $("#main2");
                var main2img8 = $("#main2 #img8");
                var main2logo = $("#main2 #logo");
                var d1 = $("#d1");
                var d2 = $("#d2");
                var d3 = $("#d3");

                main1.fadeOut();
                main2.fadeIn("fast", function(){
                    main2img8.fadeIn("fast", function(){
                        setTimeout(function(){main2logo.fadeIn("fast", function(){
                            setTimeout(function(){
                                // d1.fadeIn("fast", function(){
                                //     d2.fadeIn("fast", function(){
                                //         d3.fadeIn("fast",function(){
                                //             tg = 3;
                                //         })
                                //     })
                                // })
                                d1.animate({ right: "10px"}, 200 ,function(){
                                    d2.animate({ right: "10px"}, 200 , function(){
                                        d3.animate({ right: "10px"}, 200 , function(){
                                            tg = 3;
                                            upup.fadeIn();
                                        });
                                    });
                                });


                            }, 500)
                        });}, 500);
                    });

                });
            }else if(tg === 3){
                window.location.href="<%= indexurl %>"; 
            }
        }


        window.addEventListener('load',load, false);
    })
</script>
